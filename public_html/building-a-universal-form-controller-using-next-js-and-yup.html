<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Building a Universal Form Controller Using Next.js & Yup | Designly</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="/assets/css/style.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/base16/gigavolt.min.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <!-- We use the full link to the CSS file in the rest of the tags -->
        <link
            rel="preload"
            as="style"
            href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
            media="print"
            onload="this.media='all'"
        />
        <noscript>
            <link
                rel="stylesheet"
                href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
            />
        </noscript>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000" />
        <meta name="msapplication-TileColor" content="#000000" />
        <meta name="theme-color" content="#ffffff" />
        <meta name="description" content="Learn how you can create your own reusable universal form controller to use across your Next.js app." />
        <meta property="og:title" content="Building a Universal Form Controller Using Next.js & Yup" />
        <meta property="og:description" content="Learn how you can create your own reusable universal form controller to use across your Next.js app." />
        <meta property="og:image" content="https://cdn.designly.biz/imgr/blog_files/building-a-universal-form-controller-using-next-js-and-yup/cover.jpg" />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://blog.designly.biz/building-a-universal-form-controller-using-next-js-and-yup" />
        <meta property="og:site_name" content="Designly Blog" />
        <meta property="fb:app_id" content="3419826058233420" />
    </head>
    <body>
        <main id="main" class="bg-zinc-50 dark:bg-zinc-900 min-h-screen pt-[90px] flex flex-col">
            <header
  class="py-2 bg-gradient-to-t from-blue-500 to-blue-700 dark:from-zinc-700 dark:to-zinc-900 shadow-lg fixed top-0 right-0 left-0 z-30"
>
  <nav class="flex justify-between items-center px-4">
    <a href="/" aria-label="Home Page">
      <img
        class="w-[150px] md:w-[175px]"
        src="/assets/svg/designly-logo-white.svg"
        alt="Designly"
        width="175"
        height="62"
      />
    </a>
    <h1 class="text-zinc-50 text-3xl hidden md:block">Developer Blog</h1>
    <div class="flex gap-8 items-center pr-2">
      <button class="btn-search-open" aria-label="Open Search Bar">
        <i class="fa-solid fa-search text-dark-colors text-3xl"></i>
      </button>
      <button class="btn-sidebar-open md:hidden" aria-label="Open Sidebar">
        <i class="fa-solid fa-bars text-dark-colors text-3xl"></i>
      </button>
    </div>
  </nav>
</header>
            <div id="content"><div class="grid grid-cols-1 md:grid-cols-4">
    <div class="col-span-3 px-4 md:px-20 py-10">
        <article class="flex flex-col gap-10 md:px-10">
            <section class="post-header flex flex-col gap-4">
                <h1 id="post-title" class="text-colors text-xl md:text-3xl font-bold">Building a Universal Form Controller Using Next.js & Yup</h1>
                <div class="flex gap-2 items-center tag-list"><a href="/tag/nextjs">#Next.js</a>
<a href="/tag/react">#React</a>
<a href="/tag/front-end">#Front End</a></div>
                <img
                    class="rounded-md shadow-lg"
                    src="https://cdn.designly.biz/imgr/blog_files/building-a-universal-form-controller-using-next-js-and-yup/cover.jpg?w=1200&q=75"
                    srcset="https://cdn.designly.biz/imgr/blog_files/building-a-universal-form-controller-using-next-js-and-yup/cover.jpg?w=640&q=75 640w, https://cdn.designly.biz/imgr/blog_files/building-a-universal-form-controller-using-next-js-and-yup/cover.jpg?w=320&q=75 320w"
                    alt="Building a Universal Form Controller Using Next.js & Yup"
                    width="1200"
                    height="675"
                />
                <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block; text-align: center"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="7647915952"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
            </section>
            <section class="post-content flex flex-col gap-6"><p>Writing forms is probably one of the most time-consuming tasks in front-end development. There are several libraries (like react-hook-form) that can help reduce some of the coding required, but I have a habit of not trusting packages.</p>
<p>They say "don't reinvent the wheel," but sometimes the wheel is not up to your standards or does not support your specific use-case. When it comes to form validation, it's important that you 1.) assert proper data types and constraints, and 2.) not detract from the user experience in doing so.</p>
<p>That being said, this tutorial will focus on how you can create your own reusable universal form controller to use across your app. The code in this tutorial is based on an example project written in Next.js / TypeScript. You can find a link to the demo site and repo at the bottom of this article.</p>
<hr>
<h2>Dependencies</h2>
<p>This tutorial will use the following dependencies:</p>
<table>
<thead>
<tr>
<th>Package Name</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>yup</td>
<td>Dead simple Object schema validation</td>
</tr>
<tr>
<td>yup-password</td>
<td>Password plugin for yup</td>
</tr>
<tr>
<td>react-scroll</td>
<td>For animating scrolling to erroneous elements</td>
</tr>
<tr>
<td>react-input-mask</td>
<td>Masking library for input fields</td>
</tr>
<tr>
<td>tailwindcss</td>
<td>A utility-first CSS framework for rapidly building custom user interfaces.</td>
</tr>
</tbody>
</table>
<p>To install corresponding types:</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-bash hljs bash" data-lang="bash">npm i -D @types/react-input-mask @types/uuid \
@types/node @types/react @types/react-dom @types/react-scroll
</code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<hr>
<h2>The Code</h2>
<p>The following code defines a custom hook called <code>useForm</code> which manages form state, validation, and submission. It takes in several props including a <code>FormComponent</code>, <code>initialFormData</code>, <code>schema</code>, <code>handleSubmit</code>, and <code>isLoading</code>. It sets up state variables for <code>formData</code> and <code>errors</code> and handles input change events for the form fields. It also validates the form using the provided Yup schema and provides functions to get form data, reset the form, and validate the form. Finally, it returns a render function that renders the <code>FormComponent</code> with the necessary props, including any form component props passed in.</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-jsx hljs javascript" data-lang="jsx"><span class="hljs-comment">/**
 * useForm is a custom hook to manage form state, validation, and submission.
 * <span class="hljs-doctag">@author </span>Jay Simons
 *
 */</span>
<span class="hljs-keyword">import</span> React, { useState, ChangeEvent, FormEvent } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { scroller } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-scroll'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> Yup <span class="hljs-keyword">from</span> <span class="hljs-string">'yup'</span>;
type FormProps = {
    <span class="hljs-attr">FormComponent</span>: React.FC&lt;any&gt;,
    formComponentProps?: FormComponentProps,
    <span class="hljs-attr">initialFormData</span>: FormData,
    <span class="hljs-attr">schema</span>: Yup.Schema&lt;FormData&gt;,
    <span class="hljs-attr">handleSubmit</span>: <span class="hljs-function">(<span class="hljs-params">e: FormEvent</span>) =&gt;</span> <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;,
    <span class="hljs-attr">isLoading</span>: boolean
};
type FormData = {
    [key: string]: any;
};
type FormComponentProps = {
    <span class="hljs-attr">formData</span>: FormData;
    handleInputChange: <span class="hljs-function">(<span class="hljs-params">event: ChangeEvent&lt;HTMLInputElement&gt;</span>) =&gt;</span> <span class="hljs-keyword">void</span>;
    errors: { [key: string]: string };
    handleSubmit: <span class="hljs-function">(<span class="hljs-params">e: FormEvent</span>) =&gt;</span> <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useForm</span>(<span class="hljs-params">props: FormProps</span>) </span>{
    <span class="hljs-keyword">const</span> {
        FormComponent,
        formComponentProps,
        initialFormData,
        schema,
        handleSubmit,
        isLoading
    } = props;
    <span class="hljs-comment">// Initialize errors object with empty string values for each form field</span>
    <span class="hljs-keyword">const</span> initialErrors: { [key: string]: string } = {};
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">in</span> initialFormData) {
        initialErrors[k] = <span class="hljs-string">''</span>;
    }
    <span class="hljs-comment">// Set up state variables for formData and errors</span>
    <span class="hljs-keyword">const</span> [formData, setFormData] = useState&lt;FormData&gt;(initialFormData);
    <span class="hljs-keyword">const</span> [errors, setErrors] = useState&lt;{ [key: string]: string }&gt;(
        initialErrors
    );
    <span class="hljs-comment">// Handle input change events for the form fields</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleInputChange</span>(<span class="hljs-params">event: ChangeEvent&lt;HTMLInputElement&gt;</span>) </span>{
        <span class="hljs-keyword">const</span> { name, value } = event.target;
        setFormData(<span class="hljs-function">(<span class="hljs-params">prevState</span>) =&gt;</span> ({ ...prevState, [name]: value }));
    }
    <span class="hljs-comment">// Validate the form using the Yup schema</span>
    <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateForm</span>(<span class="hljs-params"></span>): <span class="hljs-title">Promise</span>&lt;<span class="hljs-title">boolean</span>&gt; </span>{
        <span class="hljs-comment">// Reset errors object</span>
        setErrors(initialErrors);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">await</span> schema.validate(formData, { <span class="hljs-attr">abortEarly</span>: <span class="hljs-literal">false</span> });
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-keyword">if</span> (err <span class="hljs-keyword">instanceof</span> Yup.ValidationError) {
                <span class="hljs-comment">// Retrieve the first validation error and its associated form field</span>
                <span class="hljs-keyword">const</span> errField = err?.inner[<span class="hljs-number">0</span>]?.path || <span class="hljs-string">''</span> <span class="hljs-keyword">as</span> string;
                <span class="hljs-keyword">const</span> errMess = err.errors[<span class="hljs-number">0</span>];
                <span class="hljs-comment">// Scroll to the form field and display the validation error message</span>
                scroller.scrollTo(errField, {
                    <span class="hljs-attr">duration</span>: <span class="hljs-number">700</span>,
                    <span class="hljs-attr">delay</span>: <span class="hljs-number">100</span>,
                    <span class="hljs-attr">smooth</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">offset</span>: <span class="hljs-number">-50</span>
                });
                <span class="hljs-comment">// Log the error to the console and update the errors object</span>
                <span class="hljs-built_in">console</span>.error(errField, errMess);
                setErrors(<span class="hljs-function">(<span class="hljs-params">oldData</span>) =&gt;</span> ({
                    ...oldData,
                    [errField]: errMess
                }));
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormData</span>(<span class="hljs-params"></span>): <span class="hljs-title">FormData</span> </span>{
        <span class="hljs-keyword">return</span> formData;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetForm</span>(<span class="hljs-params"></span>) </span>{
        setFormData(initialFormData);
        setErrors(initialErrors);
    }
    <span class="hljs-keyword">const</span> assignProps = {
        formData,
        handleInputChange,
        errors,
        handleSubmit
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">w-full</span> <span class="hljs-attr">relative</span> ${<span class="hljs-attr">isLoading</span> ? '<span class="hljs-attr">opacity-60</span>' <span class="hljs-attr">:</span> ''}`}&gt;</span>
                {isLoading ? (
                    /* Cover the screen to prevent actions while loading */
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"absolute top-0 right-0 bottom-0 left-0 z-10 bg-black/20"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                ) : (
                    <span class="hljs-tag">&lt;&gt;</span><span class="hljs-tag">&lt;/&gt;</span></span>
                )}
                &lt;FormComponent {...assignProps} {...formComponentProps}
                /&gt;
            &lt;<span class="hljs-regexp">/div&gt;
        );
    }
    return {
        getFormData,
        setFormData,
        render,
        resetForm,
        validateForm
    };
}
</span></code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<hr>
<h2>Usage</h2>
<p>Now to put all our hard work into action! Here is an example form component:</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-jsx hljs javascript" data-lang="jsx"><span class="hljs-keyword">import</span> React, { FormEvent, ChangeEvent } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Element } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-scroll'</span>;
<span class="hljs-keyword">import</span> InputMask <span class="hljs-keyword">from</span> <span class="hljs-string">'react-input-mask'</span>;
<span class="hljs-keyword">import</span> { FormData } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/interfaces/FormData'</span>
interface TheFormProps {
    <span class="hljs-attr">formData</span>: FormData;
    handleInputChange: <span class="hljs-function">(<span class="hljs-params">event: ChangeEvent&lt;HTMLInputElement&gt;</span>) =&gt;</span> <span class="hljs-keyword">void</span>;
    handleSubmit: <span class="hljs-function">(<span class="hljs-params">event: FormEvent&lt;HTMLFormElement&gt;</span>) =&gt;</span> <span class="hljs-keyword">void</span>;
    errors: { [key: string]: string };
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">TheForm</span>(<span class="hljs-params">{
    formData,
    handleInputChange,
    handleSubmit,
    errors,
}: TheFormProps</span>) </span>{
    <span class="hljs-keyword">const</span> handlePhoneChange = <span class="hljs-function">(<span class="hljs-params">event: ChangeEvent&lt;HTMLInputElement&gt;</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> { value } = event.target;
        <span class="hljs-keyword">const</span> formattedValue = value.replace(<span class="hljs-regexp">/[^\d]/g</span>, <span class="hljs-string">''</span>).substring(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>);
        handleInputChange(event);
        event.target.value = formattedValue;
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-4"</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-4"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"fullName"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                        <span class="hljs-attr">className</span>=<span class="hljs-string">"input-base"</span>
                        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
                        <span class="hljs-attr">name</span>=<span class="hljs-string">"fullName"</span>
                        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleInputChange}</span>
                        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Full Name"</span>
                        <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.fullName}</span>
                    /&gt;</span>
                    {errors.fullName &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-red-500"</span>&gt;</span>{errors.fullName}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
                <span class="hljs-tag">&lt;/<span class="hljs-name">Element</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                        <span class="hljs-attr">className</span>=<span class="hljs-string">"input-base"</span>
                        <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span>
                        <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span>
                        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleInputChange}</span>
                        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Email Address"</span>
                        <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.email}</span>
                    /&gt;</span>
                    {errors.email &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-red-500"</span>&gt;</span>{errors.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
                <span class="hljs-tag">&lt;/<span class="hljs-name">Element</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">InputMask</span>
                        <span class="hljs-attr">mask</span>=<span class="hljs-string">"(999) 999-9999"</span>
                        <span class="hljs-attr">className</span>=<span class="hljs-string">"input-base"</span>
                        <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span>
                        <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span>
                        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handlePhoneChange}</span>
                        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Phone Number"</span>
                        <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.phone}</span>
                    /&gt;</span>
                    {errors.phone &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-red-500"</span>&gt;</span>{errors.phone}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
                <span class="hljs-tag">&lt;/<span class="hljs-name">Element</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                        <span class="hljs-attr">className</span>=<span class="hljs-string">"input-base"</span>
                        <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span>
                        <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span>
                        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleInputChange}</span>
                        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span>
                        <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.password}</span>
                    /&gt;</span>
                    {errors.password &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-red-500"</span>&gt;</span>{errors.password}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
                <span class="hljs-tag">&lt;/<span class="hljs-name">Element</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
    )
}
</code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<p>We receive our <code>formData</code> state and handlers from the HOC, which implements <code>useForm</code>. Note that each input element is wrapped in the <code>&lt;Element&gt;</code> with <code>name=</code> as a prop. This allows our validation function to use <code>react-scroll</code> to smoothly scroll to the erroneous input. Also note that the phone input is using <code>InputMask</code> to assert the desired format of our phone number. These are not necessary for this tutorial, but I thought I'd throw them in as a bonus. &#128578;</p>
<p>Next is our HOC that puts it all together:</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-jsx hljs javascript" data-lang="jsx"><span class="hljs-keyword">import</span> { useState, FormEvent, ChangeEventHandler } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>
<span class="hljs-keyword">import</span> Link <span class="hljs-keyword">from</span> <span class="hljs-string">"next/link"</span>
<span class="hljs-keyword">import</span> TheForm <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/TheForm"</span>
<span class="hljs-keyword">import</span> Switch <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/UI/Switch"</span>
<span class="hljs-keyword">import</span> formSchema <span class="hljs-keyword">from</span> <span class="hljs-string">"@/schema/formSchema"</span>
<span class="hljs-keyword">import</span> useForm <span class="hljs-keyword">from</span> <span class="hljs-string">"@/hooks/useForm"</span>
<span class="hljs-keyword">const</span> initialFormData = {
  <span class="hljs-attr">fullName</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Home</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState&lt;boolean&gt;(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [disableClientValidation, setDisableClientValidation] = useState&lt;boolean&gt;(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [serverResponse, setServerResponse] = useState&lt;string | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [responseCode, setResponseCode] = useState&lt;number&gt;(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> handleSubmit = <span class="hljs-keyword">async</span> (e: FormEvent) =&gt; {
    e.preventDefault();
    <span class="hljs-keyword">const</span> formData = getFormData();
    <span class="hljs-comment">// Validate form</span>
    <span class="hljs-keyword">if</span> (!disableClientValidation) {
      <span class="hljs-keyword">if</span> (! <span class="hljs-keyword">await</span> validateForm()) <span class="hljs-keyword">return</span>;
    }
    setIsLoading(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/api/form'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-built_in">JSON</span>.stringify(formData)
    });
    <span class="hljs-comment">// Get response code</span>
    <span class="hljs-keyword">const</span> responseCode = result.status;
    setResponseCode(responseCode);
    <span class="hljs-comment">// Set response to state</span>
    <span class="hljs-keyword">const</span> serverResponse = <span class="hljs-keyword">await</span> result.json();
    setServerResponse(serverResponse);
    setIsLoading(<span class="hljs-literal">false</span>);
  }
  <span class="hljs-keyword">const</span> { render, getFormData, setFormData, validateForm, resetForm } = useForm({
    <span class="hljs-attr">FormComponent</span>: TheForm,
    <span class="hljs-attr">initialFormData</span>: initialFormData,
    <span class="hljs-attr">schema</span>: formSchema,
    <span class="hljs-attr">handleSubmit</span>: handleSubmit,
    <span class="hljs-attr">isLoading</span>: isLoading
  });
  <span class="hljs-keyword">const</span> handleDisableClientValidation = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    setDisableClientValidation(<span class="hljs-function"><span class="hljs-params">old</span> =&gt;</span> !old);
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 flex flex-col min-h-screen w-full bg-gradient-to-b from-slate-300 to-slate-200"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-6 md:w-[800px] mx-auto py-20"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-3xl font-bold text-center"</span>&gt;</span>React Hook Form Example<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This form uses the Yup library for validation and the back-end is handled by Next.js<span class="hljs-symbol">&amp;apos;</span>s new Edge runtime.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        {
          serverResponse
            ?
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-8"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xl font-bold text-center"</span>&gt;</span>Server Response<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">pre</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">responseCode</span> !== <span class="hljs-string">200</span> ? '<span class="hljs-attr">text-red-500</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">text-green-500</span>'} <span class="hljs-attr">bg-</span>[#<span class="hljs-attr">1e1e1e</span>] <span class="hljs-attr">p-4</span> <span class="hljs-attr">rounded-md</span>`}&gt;</span>
                {JSON.stringify(serverResponse,  null, 2)}
              <span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 bg-green-500 text-white rounded-md w-fit"</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setServerResponse(null)}
              &gt;Try Again<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            :
            <span class="hljs-tag">&lt;&gt;</span>
              {render()}
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex gap-6 flex-wrap"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
                  <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 bg-blue-500 text-white rounded-md"</span>
                  <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSubmit}</span>
                &gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
                  <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 bg-green-500 text-white rounded-md"</span>
                  <span class="hljs-attr">onClick</span>=<span class="hljs-string">{resetForm}</span>
                &gt;</span>Reset<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>
                  <span class="hljs-attr">label</span>=<span class="hljs-string">"Disable Client Validation"</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleDisableClientValidation}</span>
                  <span class="hljs-attr">checked</span>=<span class="hljs-string">{disableClientValidation}</span>
                /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/&gt;</span>
        }
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-auto mb-6"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center text-sm font-mono"</span>&gt;</span>Created by{' '}
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sky-600"</span>
            <span class="hljs-attr">href</span>=<span class="hljs-string">"https://designly.biz"</span>
            <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>
          &gt;</span>Designly &#128512;<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span></span>
    &lt;<span class="hljs-regexp">/div&gt;
  )
}
</span></code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<p>As you can see, our <code>handleSubmit</code> function pulls the form data from the state managed by <code>useForm</code>. We then call the <code>validateForm()</code> function and we abort if validation doesn't pass.</p>
<p>Note: the <code>disableClientValidation</code> is only there for demonstration purposes.</p>
<hr>
<h2>Back-End Code</h2>
<p>Here's an example of how you can use the same Yup schema to validate on the back-end. I'm using the super-fast Edge runtime in this example. You should consider using Edge for most back-end handlers unless you absolutely can't live without Node.</p>
<p>Note: you can use the toggle on the demo page to bypass front-end validation to test this.</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-ts hljs typescript" data-lang="ts"><span class="hljs-keyword">import</span> formSchema <span class="hljs-keyword">from</span> <span class="hljs-string">"@/schema/formSchema"</span>;
<span class="hljs-keyword">import</span> *  <span class="hljs-keyword">as</span> Yup <span class="hljs-keyword">from</span> <span class="hljs-string">"yup"</span>;
<span class="hljs-comment">// Use Next.js edge runtime</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> config = {
    runtime: <span class="hljs-string">'edge'</span>,
}
<span class="hljs-comment">/**
 * Form handler with Yup schema validation
 * 
 * @author Jay Simons
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handler</span>(<span class="hljs-params">request: Request</span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">await</span> request.json();
        <span class="hljs-comment">// Vaidate form data</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">await</span> formSchema.validate(formData, { abortEarly: <span class="hljs-literal">false</span> });
        } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-keyword">if</span> (err <span class="hljs-keyword">instanceof</span> Yup.ValidationError) {
                <span class="hljs-comment">// Retrieve the first validation error and its associated form field</span>
                <span class="hljs-keyword">const</span> errField = err?.inner[<span class="hljs-number">0</span>]?.path || <span class="hljs-string">''</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;
                <span class="hljs-keyword">const</span> errMess = err.errors[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-built_in">JSON</span>.stringify({ errField, errMess }));
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(<span class="hljs-built_in">JSON</span>.stringify(formData), {
            headers: {
                <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
            }
        });
    } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">if</span> (err <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Response(err.message, { status: <span class="hljs-number">500</span> });
        }
    }
}
</code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<hr>
<h2>Links</h2>
<ol>
<li>
<a href="https://github.com/designly1/next-hook-form-example" rel="noreferrer noopener" target="_blank">GitHub Repo</a>
</li>
<li>
<a href="https://next-hook-form-example.pages.dev/" rel="noreferrer noopener" target="_blank">Demo Page</a>
</li>
</ol>
<hr>
<p>Thank you for taking the time to read my article and I hope you found it useful (or at the very least, mildly entertaining). For more great information about web dev, systems administration and cloud computing, please read the <a href="https://designly.biz/blog" rel="noreferrer noopener" target="_blank">Designly Blog</a>. Also, please leave your comments! I love to hear thoughts from my readers.</p>
<p>I use <a href="https://hostinger.com?REFERRALCODE=1J11864" rel="noreferrer noopener" target="_blank">Hostinger</a> to host my clients' websites. You can get a business account that can host 100 websites at a price of $3.99/mo, which you can lock in for up to 48 months! It's the best deal in town. Services include PHP hosting (with extensions), MySQL, Wordpress and Email services.</p>
<p>Looking for a web developer? I'm available for hire! To inquire, please fill out a <a href="https://designly.biz/contact" rel="noreferrer noopener" target="_blank">contact form</a>.</p>
</section>
            <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block; text-align: center"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="7647915952"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
            <div class="share-buttons text-2xl flex gap-4 mx-auto">
                <h2 class="text-2xl font-bold text-colors">Please Share!</h2>
                <a
                    href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.designly.biz%2Fbuilding-a-universal-form-controller-using-next-js-and-yup"
                    target="_blank"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook text-blue-700"></i>
                </a>
                <a
                    href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fblog.designly.biz%2Fbuilding-a-universal-form-controller-using-next-js-and-yup"
                    target="_blank"
                    aria-label="Share on LinkedIn"
                >
                    <i class="fab fa-linkedin text-indigo-700"></i>
                </a>
                <a href="https://twitter.com/share?url=https%3A%2F%2Fblog.designly.biz%2Fbuilding-a-universal-form-controller-using-next-js-and-yup" target="_blank">
                    <i class="fab fa-twitter text-sky-700"></i>
                </a>
            </div>
            <hr />
            <div class="bg-white dark:bg-zinc-800 border-1 rounded-lg flex flex-col shadow p-6 max-w-xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-y-4">
                    <div class="col-span-1 flex items-center">
                        <img
                            src="https://cdn.designly.biz/imgr/jay.jpg?w=200&q=75"
                            alt="Jay"
                            width="200"
                            height="200"
                            class="rounded-full shadow-md border-4 border-blue-700/20 w-32 h-32 mx-auto"
                        />
                    </div>
                    <div class="col-span-3 px-6 flex flex-col gap-4">
                        <h3 class="text-2xl font-semibold text-center text-colors">About The Author</h3>
                        <p class="text-zinc-700 dark:text-zinc-300">
                            Jay is a full-stack developer, electrical engineer, writer and music producer. He currently
                            resides in the Madison, WI area.
                        </p>
                        <a
                            href="https://jay.designly.biz"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-hover flex gap-2 items-center"
                        >
                            <div>Portfolio Site</div>
                            <i class="fa-solid fa-external-link"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr />
            <h2 class="text-2xl font-bold text-center border-b-2 border-dashed pb-1 text-colors">Comments</h2>
            <div id="comments" class="text-colors">
                <!-- Comments will be generated here -->
                <p>No Comments Yet</p>
            </div>
            <button id="btn-post-comment" class="btn btn-primary btn-outline flex gap-2 items-center max-w-md mx-auto">
                <i class="fas fa-comment-medical"></i>
                <div>Post Comment</div>
            </button>
            <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block; text-align: center"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="7647915952"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
            <template id="comment-template" class="text-colors">
                <div
                    class="comment flex flex-col gap-4 p-4 border rounded shadow mb-4 bg-white dark:bg-zinc-800 text-colors"
                >
                    <div class="flex gap-2 items-center">
                        <img
                            class="comment-avatar rounded-full w-10 h-10"
                            src="/assets/img/pixel-black.png"
                            width="100"
                            height="100"
                            alt="Commenter Avatar"
                        />
                        <div class="comment-display-name text-2xl text-cyan-700"></div>
                    </div>
                    <p class="comment-text"></p>
                    <div class="replies ml-4">
                        <!-- Replies will be generated here -->
                    </div>
                    <button class="reply-button mt-2 text-hover flex gap-2 items-center">
                        <i class="fas fa-comment-dots"></i>
                        <div>Reply</div>
                    </button>
                </div>
            </template>
        </article>
    </div>
    <div class="sidebar">
    <button class="btn top-4 left-4 btn-sidebar-close flex md:hidden btn-sidebar-close z-40 shadow-xl"
        aria-label="Close sidebar">
        <i class="fa-solid fa-times text-2xl"></i>
    </button>
    <div id="post-sidebar-cont" class="flex flex-col gap-8">
        <a href="/github-copilot-vs-codewhisperer-the-verdict">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/github-copilot-vs-codewhisperer-the-verdict/cover.jpg?w=400&q=75" alt="GitHub Copilot vs CodeWhisperer: The Verdict" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">GitHub Copilot vs CodeWhisperer: The Verdict</h1>
            <p class="text-zinc-600 text-lg md:text-sm">In this blog post, I'll take you through my journey, share my insights, and finally, reveal the winner in the showdown between GitHub Copilot and AWS CodeWhisperer.</p>
        </div>
    </div>
</a>
<a href="/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app/cover.jpg?w=400&q=75" alt="Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Step-by-step guide to creating an 'Add to Home Screen' prompt for Next.js PWAs, targeting major mobile browsers to enhance user experience.</p>
        </div>
    </div>
</a>
<a href="/create-an-attractive-file-upload-widget-with-react-nextjs-and-tailwind-css">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/create-an-attractive-file-upload-widget-with-react-nextjs-and-tailwind-css/cover.jpg?w=400&q=75" alt="How to Create an Attractive File Upload Widget With React/Next.js and Tailwind CSS" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">How to Create an Attractive File Upload Widget With React/Next.js and Tailwind CSS</h1>
            <p class="text-zinc-600 text-lg md:text-sm">By leveraging the strengths of React, Tailwind CSS, and Daisy UI, we can create a user-friendly and aesthetically pleasing file uploader.</p>
        </div>
    </div>
</a>
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block"
    data-ad-format="fluid"
    data-ad-layout-key="+13+qh+1q+m+1y"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="2598499752"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<a href="/react-and-tailwind-css-making-a-typewriter-animation-from-scratch">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/react-and-tailwind-css-making-a-typewriter-animation-from-scratch/cover.jpg?w=400&q=75" alt="React and Tailwind CSS: Making a Typewriter Animation from Scratch" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">React and Tailwind CSS: Making a Typewriter Animation from Scratch</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Learn to create a typewriter animation using React and Tailwind CSS. Step-by-step guide to add a retro touch to your web design.</p>
        </div>
    </div>
</a>
<a href="/animating-the-web-route-transitions-in-next-js-with-framer-motion">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/animating-the-web-route-transitions-in-next-js-with-framer-motion/cover.jpg?w=400&q=75" alt="Animating the Web: Route Transitions in Next.js with Framer Motion" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Animating the Web: Route Transitions in Next.js with Framer Motion</h1>
            <p class="text-zinc-600 text-lg md:text-sm">This article aims to be your comprehensive guide on how to enhance your Next.js applications with smooth, compelling route transitions using Framer Motion.</p>
        </div>
    </div>
</a>
<a href="/enhancing-form-usability-with-framer-motion-a-guide-to-animated-chunked-form">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/enhancing-form-usability-with-framer-motion-a-guide-to-animated-chunked-form/cover.jpg?w=400&q=75" alt="Enhancing Form Usability with Framer Motion: A Guide to Animated, Chunked Form Transitions" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Enhancing Form Usability with Framer Motion: A Guide to Animated, Chunked Form Transitions</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Enhance form UX with Framer Motion: Break forms into chunks, animate transitions, and improve user experience for seamless interaction.</p>
        </div>
    </div>
</a>
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block"
    data-ad-format="fluid"
    data-ad-layout-key="+13+qh+1q+m+1y"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="2598499752"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<a href="/easy-dropdown-menus-with-next-js-and-tailwind-css">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/easy-dropdown-menus-with-next-js-and-tailwind-css/cover.jpg?w=400&q=75" alt="Easy Dropdown Menus With Next.js and Tailwind CSS" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Easy Dropdown Menus With Next.js and Tailwind CSS</h1>
            <p class="text-zinc-600 text-lg md:text-sm">In this article, I'm going to show you how to create a very simple, yet elegant, dropdown menu using nothing but Next.js and Tailwind CSS.</p>
        </div>
    </div>
</a>
<a href="/creating-a-basic-authentication-provider-in-next-js">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/creating-a-basic-authentication-provider-in-next-js/cover.jpg?w=400&q=75" alt="Creating a Basic Authentication Provider in Next.js" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Creating a Basic Authentication Provider in Next.js</h1>
            <p class="text-zinc-600 text-lg md:text-sm">In this tutorial, we'll walk you through the process of creating a basic authentication provider in Next.js.</p>
        </div>
    </div>
</a>
<a href="/building-a-universal-form-controller-using-next-js-and-yup">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/building-a-universal-form-controller-using-next-js-and-yup/cover.jpg?w=400&q=75" alt="Building a Universal Form Controller Using Next.js & Yup" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Building a Universal Form Controller Using Next.js & Yup</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Learn how you can create your own reusable universal form controller to use across your Next.js app.</p>
        </div>
    </div>
</a>
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block"
    data-ad-format="fluid"
    data-ad-layout-key="+13+qh+1q+m+1y"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="2598499752"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    </div>
    <div id="post-list-bottom"></div>
</div>
</div>
<input id="post-id" type="hidden" value="7d3hzCJ6EvW6j5YM1hAVUt" />
<input id="reply-to" type="hidden" value="" />
<input id="post-url" type="hidden" value="https://blog.designly.biz/building-a-universal-form-controller-using-next-js-and-yup" />
<script>
    function generateComment(commentData) {
        const template = document.querySelector("#comment-template");
        const clone = template.content.cloneNode(true);
        const displayName = clone.querySelector(".comment-display-name");
        displayName.textContent = commentData.displayName;
        const commentAvatar = clone.querySelector(".comment-avatar");
        commentAvatar.setAttribute("src", commentData.avatar);
        const commentText = clone.querySelector(".comment-text");
        commentText.textContent = commentData.comment;
        const repliesContainer = clone.querySelector(".replies");
        commentData.replies.forEach((reply) => {
            const replyElement = generateComment(reply);
            repliesContainer.appendChild(replyElement);
        });
        const replyButton = clone.querySelector(".reply-button");
        replyButton.addEventListener("click", () => {
            document.getElementById("reply-to").value = commentData._id;
            loadUrl("/comment");
        });
        return clone;
    }
    const fetchComments = async () => {
        const postId = document.getElementById("post-id").value;
        try {
            const result = await fetch(`https://blog-comments.designly.workers.dev/?postId=${postId}`);
            const comments = await result.json();
            const commentsContainer = document.querySelector("#comments");
            if (Array.isArray(comments) && comments.length) {
                commentsContainer.innerHTML = "";
                comments.forEach((comment) => {
                    const commentElement = generateComment(comment);
                    commentsContainer.appendChild(commentElement);
                });
            }
        } catch (err) {
            console.error(err);
        }
    };
    setTimeout(async () => {
        fetchComments();
        document.getElementById("btn-post-comment").addEventListener("click", () => {
            loadUrl(`/comment`);
        });
    }, 0);
</script>
</div>
            <footer class="flex justify-around items-center py-2 bg-gradient-to-b from-blue-500 to-blue-700 text-white dark:from-zinc-500 dark:to-zinc-700 mt-auto">
    <div>&copy; 2008 - 2023 Designly</div>
</footer>
        </main>
        <div id="image-viewer" class="fixed top-0 right-0 bottom-0 left-0 z-50 hidden bg-zinc-900">
            <button class="fixed top-4 left-4 btn-close-image-viewer">
                <i class="fa-solid fa-times text-xl text-hover text-white"></i>
            </button>
            <img
                id="image-viewer-img"
                class="m-auto w-full btn-close-image-viewer cursor-zoom-out"
                alt="Full Size Image"
                src="/assets/img/pixel-black.png"
                width="1920"
                height="1080"
            />
        </div>
        <div
            id="loading"
            class="fixed top-0 right-0 bottom-0 left-0 bg-black/80 flex justify-around items-center z-50"
            style="display: none"
        >
            <div class="flex flex-col gap-4">
                <img src="/assets/svg/notes-light.svg" alt="Bouncy Notes" width="200" height="200" />
                <h1 class="text-zinc-100 text-2xl text-center font-semibold animate-pulse">Loading...</h1>
            </div>
        </div>
        <div
            id="layer"
            class="fixed top-0 right-0 bottom-0 left-0 flex flex-col m-auto w-full bg-zinc-50 dark:bg-zinc-900 z-30 overflow-x-auto"
            style="display: none"
        ></div>
        <script>
    function loadLayer(html) {
        const layer = document.getElementById("layer");
        const parser = new DOMParser();
        const parsed = parser.parseFromString(html, "text/html");
        layer.innerHTML = parsed.body.innerHTML;
        const scripts = parsed.body.querySelectorAll("script");
        for (let i = 0; i < scripts.length; i++) {
            const script = document.createElement("script");
            for (let key in scripts[i].attributes) {
                script.setAttribute(key, scripts[i].attributes[key].value);
            }
            script.innerHTML = scripts[i].innerHTML;
            layer.appendChild(script);
        }
        layer.style.display = "flex";
    }
    function loadUrl(url) {
        loadingOn();
        fetch(url)
            .then((res) => res.text())
            .then((data) => {
                loadLayer(data);
            })
            .catch((err) => {
                console.error(err);
            })
            .finally(() => {
                loadingOff();
            });
    }
    function hideLayer() {
        const layer = document.getElementById("layer");
        layer.style.display = "none";
    }
    function loadingOn() {
        const loading = document.getElementById("loading");
        loading.style.display = "flex";
    }
    function loadingOff() {
        const loading = document.getElementById("loading");
        loading.style.display = "none";
    }
</script>
        <script src="/assets/js/index.js" defer></script>
        <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit"></script>
    </body>
</html>