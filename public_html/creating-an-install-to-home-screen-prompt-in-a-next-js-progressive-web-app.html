<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App | Designly</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="/assets/css/style.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/base16/gigavolt.min.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <!-- We use the full link to the CSS file in the rest of the tags -->
        <link
            rel="preload"
            as="style"
            href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
        />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
            media="print"
            onload="this.media='all'"
        />
        <noscript>
            <link
                rel="stylesheet"
                href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap"
            />
        </noscript>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000" />
        <meta name="msapplication-TileColor" content="#000000" />
        <meta name="theme-color" content="#ffffff" />
        <meta name="description" content="Step-by-step guide to creating an 'Add to Home Screen' prompt for Next.js PWAs, targeting major mobile browsers to enhance user experience." />
        <meta property="og:title" content="Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App" />
        <meta property="og:description" content="Step-by-step guide to creating an 'Add to Home Screen' prompt for Next.js PWAs, targeting major mobile browsers to enhance user experience." />
        <meta property="og:image" content="https://cdn.designly.biz/imgr/blog_files/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app/cover.jpg" />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://blog.designly.biz/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app" />
        <meta property="og:site_name" content="Designly Blog" />
        <meta property="fb:app_id" content="3419826058233420" />
    </head>
    <body>
        <main id="main" class="bg-zinc-50 dark:bg-zinc-900 min-h-screen pt-[90px] flex flex-col">
            <header
  class="py-2 bg-gradient-to-t from-blue-500 to-blue-700 dark:from-zinc-700 dark:to-zinc-900 shadow-lg fixed top-0 right-0 left-0 z-30"
>
  <nav class="flex justify-between items-center px-4">
    <a href="/" aria-label="Home Page">
      <img
        class="w-[150px] md:w-[175px]"
        src="/assets/svg/designly-logo-white.svg"
        alt="Designly"
        width="175"
        height="62"
      />
    </a>
    <h1 class="text-zinc-50 text-3xl hidden md:block">Developer Blog</h1>
    <div class="flex gap-8 items-center pr-2">
      <button class="btn-search-open" aria-label="Open Search Bar">
        <i class="fa-solid fa-search text-dark-colors text-3xl"></i>
      </button>
      <button class="btn-sidebar-open md:hidden" aria-label="Open Sidebar">
        <i class="fa-solid fa-bars text-dark-colors text-3xl"></i>
      </button>
    </div>
  </nav>
</header>
            <div id="content"><div class="grid grid-cols-1 md:grid-cols-4">
    <div class="col-span-3 px-4 md:px-20 py-10">
        <article class="flex flex-col gap-10 md:px-10">
            <section class="post-header flex flex-col gap-4">
                <h1 class="text-colors text-xl md:text-3xl font-bold">Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App</h1>
                <div class="flex gap-2 items-center tag-list"><a href="/tag/nextjs">#Next.js</a>
<a href="/tag/progressive-web-apps-pwa">#Progressive Web Apps (PWA)</a>
<a href="/tag/front-end">#Front End</a></div>
                <img
                    class="rounded-md shadow-lg"
                    src="https://cdn.designly.biz/imgr/blog_files/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app/cover.jpg?w=1200&q=75"
                    srcset="https://cdn.designly.biz/imgr/blog_files/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app/cover.jpg?w=640&q=75 640w, https://cdn.designly.biz/imgr/blog_files/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app/cover.jpg?w=320&q=75 320w"
                    alt="Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App"
                    width="1200"
                    height="675"
                />
                <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block; text-align: center"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="7647915952"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
            </section>
            <section class="post-content flex flex-col gap-6"><p>In today's mobile-centric world, providing a seamless user experience across all devices is not just an option&mdash;it's a necessity. This is where Progressive Web Apps (PWAs) shine. PWAs offer a blend of web and mobile app's best features, providing an immersive user experience that is both engaging and efficient.</p>
<p>One of the hallmarks of PWAs is their ability to be installed on the user's device, much like a native app. This feature, however, depends on effectively prompting users to add the PWA to their home screen. This tutorial will guide you through creating an "Install to Home Screen" prompt in a Next.js PWA, ensuring your web app is always just a tap away for your users.</p>
<p>As of iOS 16.4, Mobile Safari has added support for push notifications for PWAs, but only when they are installed on the user's device. This new feature makes the "Install to Home Screen" prompt even more essential for iOS users as it opens up a new channel of engagement&mdash;direct, personalized notifications, right at their fingertips.</p>
<p>PWAs bring several advantages to the table. They are fast, reliable, and engaging. PWAs load quickly, provide offline functionality, and offer a full-screen experience, much like native apps. Furthermore, they are less resource-intensive than traditional mobile apps and don't require users to go through an app store to install, making them an attractive option for both developers and users.</p>
<p>Follow along as we dive into the specifics of creating a dynamic, user-friendly "Install to Home Screen" prompt in your Next.js PWA, enhancing its accessibility and user engagement. Whether you're new to PWAs or looking to optimize an existing one, this tutorial has something for everyone.</p>
<p>Stay tuned to learn how to leverage the power of Next.js and PWAs, and let's create a web experience that your users can carry with them wherever they go!</p>
<h2>Requirement for This Project</h2>
<p>This tutorial project was created using <code>create-next-app</code> with Tailwind CSS, Typescript and App router enabled (although we won't be using the server at all). If you use pure CSS or another styling engine, you'll need to rework some of the code. If you do not use Typescript, you can simply delete the type annotations or you can also use the tool referenced at the bottom of this page.</p>
<p>I am also using <code>react-icons</code> for the icons. There was one icon I could not find, which was the install icon for Firefox, so I screenshotted it and make it into an transparent icon in Photoshop. That icon is included in the repo. Lastly, you'll need <code>cookies-next</code> to be able to remember the user's wish to "do not show again."</p>
<h2>Step 1 - Detect the User Agent</h2>
<p>This example component supports a customized prompt for the five most commonly used mobile browsers:</p>
<ol>
<li>Mobile Safari on iOS</li>
<li>Samsung Internet Browser on Android</li>
<li>Mobile Chrome on Android and iOS</li>
<li>Mobile Firefox on Android and iOS</li>
</ol>
<p>Approximately 60% of mobile users use their default browser. As of May 2023, the combined market share of Chrome, Safari, Firefox, and Samsung Internet was over 96%, with Chrome leading at 61.09%, Safari at 27.81%, Firefox at 2.76%, and Samsung Internet at 4.97% globally&#8203;&#8203;. Given these trends, it's crucial to ensure your web components perform optimally across all these platforms.</p>
<p>Let us begin by creating a component that detects the one of these six combinations so we can render the correct prompt:</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-jsx hljs javascript" data-lang="jsx"><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useUserAgent</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">/**
     * we set our initial state as null because we don't know what the user agent is yet
     * that way we can check if the user agent has been set or not
     */</span>
    <span class="hljs-keyword">const</span> [isMobile, setIsMobile] = useState&lt;boolean | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [userAgent, setUserAgent] = useState&lt;string | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [isIOS, setIsIOS] = useState&lt;boolean | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [isStandalone, setIsStandalone] = useState&lt;boolean | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">const</span> [userAgentString, setUserAgentString] = useState&lt;string | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
    useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>) {
            <span class="hljs-keyword">const</span> userAgentString = <span class="hljs-built_in">window</span>.navigator.userAgent;
            setUserAgentString(userAgentString);
            <span class="hljs-keyword">let</span> userAgent;
            <span class="hljs-comment">/**
             * Parse user agent string to determine browser
             * The order of the if statements is important because some browsers
             * have multiple matches in their user agent string
             */</span>
            <span class="hljs-keyword">if</span> (userAgentString.indexOf(<span class="hljs-string">'SamsungBrowser'</span>) &gt; <span class="hljs-number">-1</span>) {
                userAgent = <span class="hljs-string">'SamsungBrowser'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgentString.indexOf(<span class="hljs-string">'Firefox'</span>) &gt; <span class="hljs-number">-1</span>) {
                userAgent = <span class="hljs-string">'Firefox'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgentString.indexOf(<span class="hljs-string">'FxiOS'</span>) &gt; <span class="hljs-number">-1</span>) {
                userAgent = <span class="hljs-string">'FirefoxiOS'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgentString.indexOf(<span class="hljs-string">'CriOS'</span>) &gt; <span class="hljs-number">-1</span>) {
                userAgent = <span class="hljs-string">'ChromeiOS'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgentString.indexOf(<span class="hljs-string">'Chrome'</span>) &gt; <span class="hljs-number">-1</span>) {
                userAgent = <span class="hljs-string">'Chrome'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgentString.indexOf(<span class="hljs-string">'Safari'</span>) &gt; <span class="hljs-number">-1</span>) {
                userAgent = <span class="hljs-string">'Safari'</span>;
            } <span class="hljs-keyword">else</span> {
                userAgent = <span class="hljs-string">'unknown'</span>;
            }
            setUserAgent(userAgent);
            <span class="hljs-comment">// Check if user agent is mobile</span>
            <span class="hljs-keyword">const</span> isIOS = userAgentString.match(<span class="hljs-regexp">/iPhone|iPad|iPod/i</span>);
            <span class="hljs-keyword">const</span> isAndroid = userAgentString.match(<span class="hljs-regexp">/Android/i</span>);
            setIsIOS(isIOS ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>);
            <span class="hljs-keyword">const</span> isMobile = isIOS || isAndroid;
            setIsMobile(!!isMobile);
            <span class="hljs-comment">// Check if app is installed (if it's installed we wont show the prompt)</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.matchMedia(<span class="hljs-string">'(display-mode: standalone)'</span>).matches) {
                setIsStandalone(<span class="hljs-literal">true</span>);
            }
        }
    }, []);
    <span class="hljs-keyword">return</span> { isMobile, userAgent, isIOS, isStandalone, userAgentString }
}
</code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<h2>Step 2 - Conditionally Render our Prompt</h2>
<p>Now that we have a means to detect the browser, let's create our <code>AddToHomeScreen</code> component:</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-jsx hljs javascript" data-lang="jsx"><span class="hljs-keyword">import</span> React, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { setCookie, getCookie } <span class="hljs-keyword">from</span> <span class="hljs-string">'cookies-next'</span>;
<span class="hljs-keyword">import</span> dynamic <span class="hljs-keyword">from</span> <span class="hljs-string">'next/dynamic'</span>;
<span class="hljs-keyword">const</span> ModuleLoading = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"animate-bounce text-white font-bold"</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> AddToIosSafari = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToIosSafari'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">const</span> AddToMobileChrome = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToMobileChrome'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">const</span> AddToMobileFirefox = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToMobileFirefox'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">const</span> AddToMobileFirefoxIos = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToMobileFirefoxIos'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">const</span> AddToMobileChromeIos = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToMobileChromeIos'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">const</span> AddToSamsung = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToSamsung'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">const</span> AddToOtherBrowser = dynamic(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./AddToOtherBrowser'</span>), { <span class="hljs-attr">loading</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ModuleLoading</span> /&gt;</span></span> });
<span class="hljs-keyword">import</span> useUserAgent <span class="hljs-keyword">from</span> <span class="hljs-string">'@/hooks/useUserAgent'</span>;
type AddToHomeScreenPromptType = <span class="hljs-string">'safari'</span> | <span class="hljs-string">'chrome'</span> | <span class="hljs-string">'firefox'</span> | <span class="hljs-string">'other'</span> | <span class="hljs-string">'firefoxIos'</span> | <span class="hljs-string">'chromeIos'</span> | <span class="hljs-string">'samsung'</span> | <span class="hljs-string">''</span>;
<span class="hljs-keyword">const</span> COOKIE_NAME = <span class="hljs-string">'addToHomeScreenPrompt'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AddToHomeScreen</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">const</span> [displayPrompt, setDisplayPrompt] = useState&lt;AddToHomeScreenPromptType&gt;(<span class="hljs-string">''</span>);
    <span class="hljs-keyword">const</span> { userAgent, isMobile, isStandalone, isIOS } = useUserAgent();
    <span class="hljs-keyword">const</span> closePrompt = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        setDisplayPrompt(<span class="hljs-string">''</span>);
    };
    <span class="hljs-keyword">const</span> doNotShowAgain = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-comment">// Create date 1 year from now</span>
        <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        date.setFullYear(date.getFullYear() + <span class="hljs-number">1</span>);
        setCookie(COOKIE_NAME, <span class="hljs-string">'dontShow'</span>, { <span class="hljs-attr">expires</span>: date }); <span class="hljs-comment">// Set cookie for a year</span>
        setDisplayPrompt(<span class="hljs-string">''</span>);
    };
    useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> addToHomeScreenPromptCookie = getCookie(COOKIE_NAME);
        <span class="hljs-keyword">if</span> (addToHomeScreenPromptCookie !== <span class="hljs-string">'dontShow'</span>) {
            <span class="hljs-comment">// Only show prompt if user is on mobile and app is not installed</span>
            <span class="hljs-keyword">if</span> (isMobile &amp;&amp; !isStandalone) {
                <span class="hljs-keyword">if</span> (userAgent === <span class="hljs-string">'Safari'</span>) {
                    setDisplayPrompt(<span class="hljs-string">'safari'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent === <span class="hljs-string">'Chrome'</span>) {
                    setDisplayPrompt(<span class="hljs-string">'chrome'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent === <span class="hljs-string">'Firefox'</span>) {
                    setDisplayPrompt(<span class="hljs-string">'firefox'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent === <span class="hljs-string">'FirefoxiOS'</span>) {
                    setDisplayPrompt(<span class="hljs-string">'firefoxIos'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent === <span class="hljs-string">'ChromeiOS'</span>) {
                    setDisplayPrompt(<span class="hljs-string">'chromeIos'</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent === <span class="hljs-string">'SamsungBrowser'</span>) {
                    setDisplayPrompt(<span class="hljs-string">'samsung'</span>);
                } <span class="hljs-keyword">else</span> {
                    setDisplayPrompt(<span class="hljs-string">'other'</span>);
                }
            }
        } <span class="hljs-keyword">else</span> {
        }
    }, [userAgent, isMobile, isStandalone, isIOS]);
    <span class="hljs-keyword">const</span> Prompt = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            {
                {
                    'safari': <span class="hljs-tag">&lt;<span class="hljs-name">AddToIosSafari</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    'chrome': <span class="hljs-tag">&lt;<span class="hljs-name">AddToMobileChrome</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    'firefox': <span class="hljs-tag">&lt;<span class="hljs-name">AddToMobileFirefox</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    'firefoxIos': <span class="hljs-tag">&lt;<span class="hljs-name">AddToMobileFirefoxIos</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    'chromeIos': <span class="hljs-tag">&lt;<span class="hljs-name">AddToMobileChromeIos</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    'samsung': <span class="hljs-tag">&lt;<span class="hljs-name">AddToSamsung</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    'other': <span class="hljs-tag">&lt;<span class="hljs-name">AddToOtherBrowser</span> <span class="hljs-attr">closePrompt</span>=<span class="hljs-string">{closePrompt}</span> <span class="hljs-attr">doNotShowAgain</span>=<span class="hljs-string">{doNotShowAgain}</span> /&gt;</span>,
                    '': <span class="hljs-tag">&lt;&gt;</span><span class="hljs-tag">&lt;/&gt;</span></span>
                }[displayPrompt]
            }
        &lt;<span class="hljs-regexp">/&gt;
    )
    return (
        &lt;&gt;
            {
                displayPrompt !== ''
                    ?
                    &lt;&gt;
                        &lt;div
                            className="fixed top-0 left-0 right-0 bottom-0 bg-black/</span><span class="hljs-number">70</span> z<span class="hljs-number">-50</span><span class="hljs-string">"
                            onClick={closePrompt}
                        &gt;
                            &lt;Prompt /&gt;
                        &lt;/div&gt;
                    &lt;/&gt;
                    :
                    &lt;&gt;&lt;/&gt;
            }
        &lt;/&gt;
    );
}
</span></code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<p>Note that in this example, I'm using Next.js's <code>dynamic</code> import. This ensures the prompt component is loaded only when needed, thereby enhancing the application's performance by keeping initial load times low. The <code>dynamic</code> import is particularly useful for handling heavy or infrequently used components, enabling a faster and more efficient application by downloading only what is necessary.</p>
<p>We are also using the <code>cookies-next</code> package to set a cookie for a year if the user does not want to see that prompt again. This is equally crucial for a good user experience.</p>
<h2>Step 3 - Create a Prompt for Each Browser</h2>
<p>It would be impractical to create a custom prompt for every possible mobile browser. After all, the remaining users will only make up a tiny percentage of users. We will, however define a prompt that will be a catch all for those users. That prompt will suggest that users install the app and then provide a link to a Google search on how to install app to your home screen.</p>
<p>Also, for sake of brevity, I will only include one prompt example in this article. Do not fear, though, you can access the entire repo of this tutorial project at the bottom!</p>
<p>Here's the example prompt component for Chrome on Android:</p>
<div class="code-wrapper shadow-lg"><pre><code class="language-jsx hljs javascript" data-lang="jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { FaTimes } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/fa'</span>
<span class="hljs-keyword">import</span> { HiDotsVertical } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/hi'</span>
<span class="hljs-keyword">import</span> { MdAddToHomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/md'</span>
<span class="hljs-keyword">import</span> { ImArrowUp } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-icons/im'</span>
interface Props {
    <span class="hljs-attr">closePrompt</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>;
    doNotShowAgain: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>;
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AddToMobileChrome</span>(<span class="hljs-params">props: Props</span>) </span>{
    <span class="hljs-keyword">const</span> { closePrompt, doNotShowAgain } = props;
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fixed top-0 left-0 right-0 h-[60%] z-50 pt-12 px-4 text-white"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ImArrowUp</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-4xl absolute top-[10px] right-[10px] text-indigo-700 z-10 animate-bounce"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"relative bg-primary p-4 h-full rounded-xl flex flex-col justify-around items-center text-center"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"absolute top-0 right-0 p-3"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{closePrompt}</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">FaTimes</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-2xl"</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-lg"</span>&gt;</span>For the best experience, we recommend installing the Valley Trader app to your home screen!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex gap-2 items-center text-lg"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Click the<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">HiDotsVertical</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-4xl"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>icon<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-2 items-center text-lg w-full px-4"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Scroll down and then click:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-zinc-50 flex justify-between items-center w-full px-4 py-2 rounded-lg text-zinc-900"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">MdAddToHomeScreen</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-2xl"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Add to Home Screen<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"border-2 p-1"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{doNotShowAgain}</span>&gt;</span>Don<span class="hljs-symbol">&amp;apos;</span>t show again<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre><span class="mac1"></span><span class="mac2"></span><span class="mac3"></span><button class="code-button" aria-label="Copy to clipboard"><i class="fa-solid fa-copy code-copy-icon"></i></button></div>
<hr>
<p>That's it! Please leave a comment or &#128079; if you found this article useful.</p>
<h3>Addendum:</h3>
<p>I just wanted to add that if you&rsquo;re not familiar with how to create a progressive web app (PWA), you simply begin with any mobile-responsive design and then you create an app manifest file in the root directory. I&rsquo;ve been using a free online tool to do this for many years called Favicon Generator. Also be sure to donate as well. The author has kept that site up for as long as I can remember completely free and hardly any ads.</p>
<h3>Resources</h3>
<ol>
<li>
<a href="https://github.com/designly1/next-pwa-example" rel="noreferrer noopener" target="_blank">GitHub Repo</a>
</li>
<li>
<a href="https://npwa.vercel.app/" rel="noreferrer noopener" target="_blank">Demo Site</a>
</li>
<li>
<a href="https://transform.tools/typescript-to-javascript" rel="noreferrer noopener" target="_blank">TypeScript to JavaScript Converter</a>
</li>
<li>
<a href="https://realfavicongenerator.net/" rel="noreferrer noopener" target="_blank">Favicon Generator (For Creating App Icons and App Manifest)</a>
</li>
</ol>
<p>Thank you for taking the time to read my article and I hope you found it useful (or at the very least, mildly entertaining). For more great information about web dev, systems administration and cloud computing, please read the <a href="https://blog.designly.biz" rel="noreferrer noopener" target="_blank">Designly Blog</a>. Also, please leave your comments! I love to hear thoughts from my readers.</p>
<p>I use <a href="https://hostinger.com?REFERRALCODE=1J11864" rel="noreferrer noopener" target="_blank">Hostinger</a> to host my clients' websites. You can get a business account that can host 100 websites at a price of $3.99/mo, which you can lock in for up to 48 months! It's the best deal in town. Services include PHP hosting (with extensions), MySQL, Wordpress and Email services.</p>
<p>Looking for a web developer? I'm available for hire! To inquire, please fill out a <a href="https://designly.biz/contact" rel="noreferrer noopener" target="_blank">contact form</a>.</p>
</section>
            <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block; text-align: center"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="7647915952"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
            <div class="share-buttons text-2xl flex gap-4 mx-auto">
                <h2 class="text-2xl font-bold text-colors">Please Share!</h2>
                <a
                    href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fblog.designly.biz%2Fcreating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app"
                    target="_blank"
                    aria-label="Share on Facebook"
                >
                    <i class="fab fa-facebook text-blue-700"></i>
                </a>
                <a
                    href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fblog.designly.biz%2Fcreating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app"
                    target="_blank"
                    aria-label="Share on LinkedIn"
                >
                    <i class="fab fa-linkedin text-indigo-700"></i>
                </a>
                <a href="https://twitter.com/share?url=https%3A%2F%2Fblog.designly.biz%2Fcreating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app" target="_blank">
                    <i class="fab fa-twitter text-sky-700"></i>
                </a>
            </div>
            <hr />
            <div class="bg-white dark:bg-zinc-800 border-1 rounded-lg flex flex-col shadow p-6 max-w-xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-y-4">
                    <div class="col-span-1 flex items-center">
                        <img
                            src="https://cdn.designly.biz/imgr/jay.jpg?w=200&q=75"
                            alt="Jay"
                            width="200"
                            height="200"
                            class="rounded-full shadow-md border-4 border-blue-700/20 w-32 h-32 mx-auto"
                        />
                    </div>
                    <div class="col-span-3 px-6 flex flex-col gap-4">
                        <h3 class="text-2xl font-semibold text-center text-colors">About The Author</h3>
                        <p class="text-zinc-700 dark:text-zinc-300">
                            Jay is a full-stack developer, electrical engineer, writer and music producer. He currently
                            resides in the Madison, WI area.
                        </p>
                        <a
                            href="https://jay.designly.biz"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-hover flex gap-2 items-center"
                        >
                            <div>Portfolio Site</div>
                            <i class="fa-solid fa-external-link"></i>
                        </a>
                    </div>
                </div>
            </div>
            <hr />
            <h2 class="text-2xl font-bold text-center border-b-2 border-dashed pb-1 text-colors">Comments</h2>
            <div id="comments" class="text-colors">
                <!-- Comments will be generated here -->
                <p>No Comments Yet</p>
            </div>
            <button id="btn-post-comment" class="btn btn-primary btn-outline flex gap-2 items-center max-w-md mx-auto">
                <i class="fas fa-comment-medical"></i>
                <div>Post Comment</div>
            </button>
            <script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block; text-align: center"
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="7647915952"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
            <template id="comment-template" class="text-colors">
                <div
                    class="comment flex flex-col gap-4 p-4 border rounded shadow mb-4 bg-white dark:bg-zinc-800 text-colors"
                >
                    <div class="flex gap-2 items-center">
                        <img
                            class="comment-avatar rounded-full w-10 h-10"
                            src="/assets/img/pixel-black.png"
                            width="100"
                            height="100"
                            alt="Commenter Avatar"
                        />
                        <div class="comment-display-name text-2xl text-cyan-700"></div>
                    </div>
                    <p class="comment-text"></p>
                    <div class="replies ml-4">
                        <!-- Replies will be generated here -->
                    </div>
                    <button class="reply-button mt-2 text-hover flex gap-2 items-center">
                        <i class="fas fa-comment-dots"></i>
                        <div>Reply</div>
                    </button>
                </div>
            </template>
        </article>
    </div>
    <div class="sidebar">
    <button class="btn top-4 left-4 btn-sidebar-close flex md:hidden btn-sidebar-close z-40 shadow-xl"
        aria-label="Close sidebar">
        <i class="fa-solid fa-times text-2xl"></i>
    </button>
    <div id="post-sidebar-cont" class="flex flex-col gap-8">
        <a href="/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app/cover.jpg?w=400&q=75" alt="Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Step-by-step guide to creating an 'Add to Home Screen' prompt for Next.js PWAs, targeting major mobile browsers to enhance user experience.</p>
        </div>
    </div>
</a>
<a href="/create-an-attractive-file-upload-widget-with-react-nextjs-and-tailwind-css">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/create-an-attractive-file-upload-widget-with-react-nextjs-and-tailwind-css/cover.jpg?w=400&q=75" alt="How to Create an Attractive File Upload Widget With React/Next.js and Tailwind CSS" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">How to Create an Attractive File Upload Widget With React/Next.js and Tailwind CSS</h1>
            <p class="text-zinc-600 text-lg md:text-sm">By leveraging the strengths of React, Tailwind CSS, and Daisy UI, we can create a user-friendly and aesthetically pleasing file uploader.</p>
        </div>
    </div>
</a>
<a href="/react-and-tailwind-css-making-a-typewriter-animation-from-scratch">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/react-and-tailwind-css-making-a-typewriter-animation-from-scratch/cover.jpg?w=400&q=75" alt="React and Tailwind CSS: Making a Typewriter Animation from Scratch" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">React and Tailwind CSS: Making a Typewriter Animation from Scratch</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Learn to create a typewriter animation using React and Tailwind CSS. Step-by-step guide to add a retro touch to your web design.</p>
        </div>
    </div>
</a>
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block"
    data-ad-format="fluid"
    data-ad-layout-key="+13+qh+1q+m+1y"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="2598499752"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<a href="/animating-the-web-route-transitions-in-next-js-with-framer-motion">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/animating-the-web-route-transitions-in-next-js-with-framer-motion/cover.jpg?w=400&q=75" alt="Animating the Web: Route Transitions in Next.js with Framer Motion" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Animating the Web: Route Transitions in Next.js with Framer Motion</h1>
            <p class="text-zinc-600 text-lg md:text-sm">This article aims to be your comprehensive guide on how to enhance your Next.js applications with smooth, compelling route transitions using Framer Motion.</p>
        </div>
    </div>
</a>
<a href="/enhancing-form-usability-with-framer-motion-a-guide-to-animated-chunked-form">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/enhancing-form-usability-with-framer-motion-a-guide-to-animated-chunked-form/cover.jpg?w=400&q=75" alt="Enhancing Form Usability with Framer Motion: A Guide to Animated, Chunked Form Transitions" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Enhancing Form Usability with Framer Motion: A Guide to Animated, Chunked Form Transitions</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Enhance form UX with Framer Motion: Break forms into chunks, animate transitions, and improve user experience for seamless interaction.</p>
        </div>
    </div>
</a>
<a href="/easy-dropdown-menus-with-next-js-and-tailwind-css">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/easy-dropdown-menus-with-next-js-and-tailwind-css/cover.jpg?w=400&q=75" alt="Easy Dropdown Menus With Next.js and Tailwind CSS" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Easy Dropdown Menus With Next.js and Tailwind CSS</h1>
            <p class="text-zinc-600 text-lg md:text-sm">In this article, I'm going to show you how to create a very simple, yet elegant, dropdown menu using nothing but Next.js and Tailwind CSS.</p>
        </div>
    </div>
</a>
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block"
    data-ad-format="fluid"
    data-ad-layout-key="+13+qh+1q+m+1y"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="2598499752"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<a href="/creating-a-basic-authentication-provider-in-next-js">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/creating-a-basic-authentication-provider-in-next-js/cover.jpg?w=400&q=75" alt="Creating a Basic Authentication Provider in Next.js" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Creating a Basic Authentication Provider in Next.js</h1>
            <p class="text-zinc-600 text-lg md:text-sm">In this tutorial, we'll walk you through the process of creating a basic authentication provider in Next.js.</p>
        </div>
    </div>
</a>
<a href="/building-a-universal-form-controller-using-next-js-and-yup">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/building-a-universal-form-controller-using-next-js-and-yup/cover.jpg?w=400&q=75" alt="Building a Universal Form Controller Using Next.js & Yup" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Building a Universal Form Controller Using Next.js & Yup</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Learn how you can create your own reusable universal form controller to use across your Next.js app.</p>
        </div>
    </div>
</a>
<a href="/facebook-users-have-until-august-to-claim-share-of-usd725-million-settlement">
    <div class="flex flex-col rounded-lg overflow-hidden bg-zinc-100 dark:bg-zinc-800 shadow-md min-h-[400px]">
        <div class="relative overflow-hidden h-[250px]">
            <img class="w-full object-cover" src="https://cdn.designly.biz/imgr/blog_files/facebook-users-have-until-august-to-claim-share-of-usd725-million-settlement/cover.jpg?w=400&q=75" alt="Facebook Users Have Until August to Claim Share of $725 Million Settlement" loading="lazy" />
        </div>
        <div class="p-4 flex flex-col gap-2">
            <h1 class="text-xl font-bold">Facebook Users Have Until August to Claim Share of $725 Million Settlement</h1>
            <p class="text-zinc-600 text-lg md:text-sm">Facebook users can claim their share of $725M by Aug 25 in a class-action settlement for privacy violations. Meta settled without admitting guilt.</p>
        </div>
    </div>
</a>
<script
    async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8001907419576129"
    crossorigin="anonymous"
></script>
<ins
    class="adsbygoogle"
    style="display: block"
    data-ad-format="fluid"
    data-ad-layout-key="+13+qh+1q+m+1y"
    data-ad-client="ca-pub-8001907419576129"
    data-ad-slot="2598499752"
></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>
    </div>
    <div id="post-list-bottom"></div>
</div>
</div>
<input id="post-id" type="hidden" value="4UORZdQ7Zku1sM2Ig14JOZ" />
<input id="reply-to" type="hidden" value="" />
<input id="post-title" type="hidden" value="Creating an "Install to Home Screen" Prompt in a Next.js Progressive Web App" />
<input id="post-url" type="hidden" value="https://blog.designly.biz/creating-an-install-to-home-screen-prompt-in-a-next-js-progressive-web-app" />
<script>
    function generateComment(commentData) {
        const template = document.querySelector("#comment-template");
        const clone = template.content.cloneNode(true);
        const displayName = clone.querySelector(".comment-display-name");
        displayName.textContent = commentData.displayName;
        const commentAvatar = clone.querySelector(".comment-avatar");
        commentAvatar.setAttribute("src", commentData.avatar);
        const commentText = clone.querySelector(".comment-text");
        commentText.textContent = commentData.comment;
        const repliesContainer = clone.querySelector(".replies");
        commentData.replies.forEach((reply) => {
            const replyElement = generateComment(reply);
            repliesContainer.appendChild(replyElement);
        });
        const replyButton = clone.querySelector(".reply-button");
        replyButton.addEventListener("click", () => {
            document.getElementById("reply-to").value = commentData._id;
            loadUrl("/comment");
        });
        return clone;
    }
    const fetchComments = async () => {
        const postId = document.getElementById("post-id").value;
        try {
            const result = await fetch(`https://blog-comments.designly.workers.dev/?postId=${postId}`);
            const comments = await result.json();
            const commentsContainer = document.querySelector("#comments");
            if (Array.isArray(comments) && comments.length) {
                commentsContainer.innerHTML = "";
                comments.forEach((comment) => {
                    const commentElement = generateComment(comment);
                    commentsContainer.appendChild(commentElement);
                });
            }
        } catch (err) {
            console.error(err);
        }
    };
    setTimeout(async () => {
        fetchComments();
        document.getElementById("btn-post-comment").addEventListener("click", () => {
            loadUrl(`/comment`);
        });
    }, 0);
</script>
</div>
            <footer class="flex justify-around items-center py-2 bg-gradient-to-b from-blue-500 to-blue-700 text-white dark:from-zinc-500 dark:to-zinc-700 mt-auto">
    <div>&copy; 2008 - 2023 Designly</div>
</footer>
        </main>
        <div id="image-viewer" class="fixed top-0 right-0 bottom-0 left-0 z-50 hidden bg-zinc-900">
            <button class="fixed top-4 left-4 btn-close-image-viewer">
                <i class="fa-solid fa-times text-xl text-hover text-white"></i>
            </button>
            <img
                id="image-viewer-img"
                class="m-auto w-full btn-close-image-viewer cursor-zoom-out"
                alt="Full Size Image"
                src="/assets/img/pixel-black.png"
                width="1920"
                height="1080"
            />
        </div>
        <div
            id="loading"
            class="fixed top-0 right-0 bottom-0 left-0 bg-black/80 flex justify-around items-center z-50"
            style="display: none"
        >
            <div class="flex flex-col gap-4">
                <img src="/assets/svg/notes-light.svg" alt="Bouncy Notes" width="200" height="200" />
                <h1 class="text-zinc-100 text-2xl text-center font-semibold animate-pulse">Loading...</h1>
            </div>
        </div>
        <div
            id="layer"
            class="fixed top-0 right-0 bottom-0 left-0 flex flex-col m-auto w-full bg-zinc-50 dark:bg-zinc-900 z-30 overflow-x-auto"
            style="display: none"
        ></div>
        <script>
    function loadLayer(html) {
        const layer = document.getElementById("layer");
        const parser = new DOMParser();
        const parsed = parser.parseFromString(html, "text/html");
        layer.innerHTML = parsed.body.innerHTML;
        const scripts = parsed.body.querySelectorAll("script");
        for (let i = 0; i < scripts.length; i++) {
            const script = document.createElement("script");
            for (let key in scripts[i].attributes) {
                script.setAttribute(key, scripts[i].attributes[key].value);
            }
            script.innerHTML = scripts[i].innerHTML;
            layer.appendChild(script);
        }
        layer.style.display = "flex";
    }
    function loadUrl(url) {
        loadingOn();
        fetch(url)
            .then((res) => res.text())
            .then((data) => {
                loadLayer(data);
            })
            .catch((err) => {
                console.error(err);
            })
            .finally(() => {
                loadingOff();
            });
    }
    function hideLayer() {
        const layer = document.getElementById("layer");
        layer.style.display = "none";
    }
    function loadingOn() {
        const loading = document.getElementById("loading");
        loading.style.display = "flex";
    }
    function loadingOff() {
        const loading = document.getElementById("loading");
        loading.style.display = "none";
    }
</script>
        <script src="/assets/js/index.js" defer></script>
        <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit"></script>
    </body>
</html>